<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brands</title>
    <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/brands.css">



</head>

<body>
    <section class="brands main__container">
        <h2 class="section-title">Ремонт техники различных брендов</h2>
        <div class="swiper-container">
            <div class="brands__slider slider ">
                <div class="slider-item slider-item--lenovo"><a class="slider-link"
                        href="#">Lenovo</a>
                </div>
                <div class="slider-item slider-item--samsung "><a class="slider-link"
                        href="#">Samsung</a>
                </div>
                <div class="slider-item slider-item--apple "><a class="slider-link"
                        href="#">Apple</a>
                </div>
                <div class="slider-item slider-item--viewsonic "><a class="slider-link"
                        href="#">ViewSonic</a></div>
                <div class="slider-item slider-item--bosh "><a class="slider-link"
                        href="#">Bosh</a></div>
                <div class="slider-item slider-item--hp "><a class="slider-link"
                        href="#">HP</a></div>
                <div class="slider-item slider-item--acer  "><a class="slider-link"
                        href="#">Acer</a></div>
                <div class="slider-item slider-item--sony "><a class="slider-link"
                        href="#">Sony</a></div>
                <div class="slider-item slider-item--lenovo ">
                    <a class="slider-link" href="#">Lenovo</a>
                </div>
                <div class="slider-item slider-item--hidden slider-item--samsung ">
                    <a class="slider-link" href="#">Samsung</a>
                </div>
                <div class="slider-item slider-item--apple ">
                    <a class="slider-link" href="#">Apple</a>
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
        <label class="readMore brands__span  show-toggle">Показать все</label>

    </section>
    <script src="https://unpkg.com/swiper/js/swiper.js"></script>

    <script>
        'use strict';
    const breakpoint = window.matchMedia('(min-width: 767px)');
    let mySwiper;
    let swiperWrapper = document.querySelector('.slider');
    let swiperItem = document.querySelectorAll('.slider-item');
    
    const breakpointChecker = function () {
        if (breakpoint.matches) {
            if (mySwiper !== undefined) mySwiper.destroy(true, true);
            swiperWrapper.classList.remove('swiper-wrapper');
            for (var i =0; i < swiperItem.length; i++) {
    swiperItem[i].classList.remove('swiper-slide');
}
            return;
        } else if (!breakpoint.matches) {
            return enableSwiper();
        }
    };
    const enableSwiper = function () {
swiperWrapper.classList.add('swiper-wrapper');

for (var i =0; i < swiperItem.length; i++) {
    swiperItem[i].classList.add('swiper-slide');
}
            mySwiper = new Swiper('.swiper-container', {
                    loop: true,
                    slidesPerView: 'auto',
                    spaceBetween: 30,
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                    },
                });
            };
            breakpoint.addListener(breakpointChecker);
            breakpointChecker();


            // toggler
            let showToggle = document.querySelector('.show-toggle');
            let hiddenItem = document.querySelector('.brands__slider');
            showToggle.addEventListener('click', () => {
                
                hiddenItem.style.height = 100 + '%';
                if (showToggle.textContent == 'Показать все') {
                    showToggle.textContent = 'Скрыть';
                    showToggle.classList.add('show-toggle--rotate');
                } else {
                    hiddenItem.style.height = 200 + 'px';
                    showToggle.textContent = 'Показать все';
                    showToggle.classList.remove('show-toggle--rotate');

                }
            })
       
        
    </script>
</body>

</html>